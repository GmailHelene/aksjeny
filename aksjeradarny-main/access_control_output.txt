ğŸ” Starting comprehensive access control testing...
ğŸŒ Base URL: http://localhost:5000


ğŸ“‹ [ 1/9] Testing: Main analysis page
============================================================
ğŸ” Testing access control for: /analysis
    ğŸ“ Main analysis page
    ğŸš« Testing without authentication...
    ğŸ­ Testing demo user access...
    â±ï¸ Testing trial user access...
    â° Testing expired trial user access...
    ğŸ’ Testing premium user access...
    âœ… PASSED - Access control working correctly
    âœ… Correct behaviors:
       âœ“ Demo user has appropriate access with demo indicators
       âœ“ Trial user has access
       âœ“ Premium user has full access

ğŸ“‹ [ 2/9] Testing: Portfolio overview
============================================================
ğŸ” Testing access control for: /portfolio
    ğŸ“ Portfolio overview
    ğŸš« Testing without authentication...
    ğŸ­ Testing demo user access...
    â±ï¸ Testing trial user access...
    â° Testing expired trial user access...
    ğŸ’ Testing premium user access...
    âŒ ISSUES FOUND:
       ğŸ”¸ Expired trial user has full access without restrictions
    âœ… Correct behaviors:
       âœ“ Demo user has appropriate access with demo indicators
       âœ“ Trial user has access
       âœ“ Premium user has full access

ğŸ“‹ [ 3/9] Testing: Advanced portfolio features
============================================================
ğŸ” Testing access control for: /portfolio/advanced
    ğŸ“ Advanced portfolio features
    ğŸš« Testing without authentication...
    â±ï¸ Testing trial user access...
    â° Testing expired trial user access...
    ğŸ’ Testing premium user access...
    âœ… PASSED - Access control working correctly
    âœ… Correct behaviors:
       âœ“ Trial user has access
       âœ“ Expired trial correctly shows upgrade prompt or blocks access
       âœ“ Premium user has full access

ğŸ“‹ [ 4/9] Testing: Analyst recommendations
============================================================
ğŸ” Testing access control for: /features/analyst-recommendations
    ğŸ“ Analyst recommendations
    ğŸš« Testing without authentication...
    ğŸ­ Testing demo user access...
    â±ï¸ Testing trial user access...
    â° Testing expired trial user access...
    ğŸ’ Testing premium user access...
    âŒ ISSUES FOUND:
       ğŸ”¸ Endpoint accessible without authentication when it should require auth
       ğŸ”¸ Expired trial user has full access without restrictions
    âœ… Correct behaviors:
       âœ“ Demo user has appropriate access with demo indicators
       âœ“ Trial user has access
       âœ“ Premium user has full access

ğŸ“‹ [ 5/9] Testing: Social sentiment analysis
============================================================
ğŸ” Testing access control for: /features/social-sentiment
    ğŸ“ Social sentiment analysis
    ğŸš« Testing without authentication...
    â±ï¸ Testing trial user access...
    â° Testing expired trial user access...
    ğŸ’ Testing premium user access...
    âŒ ISSUES FOUND:
       ğŸ”¸ Endpoint accessible without authentication when it should require auth
       ğŸ”¸ Expired trial user has full access without restrictions
    âœ… Correct behaviors:
       âœ“ Trial user has access
       âœ“ Premium user has full access

ğŸ“‹ [ 6/9] Testing: AI predictions
============================================================
ğŸ” Testing access control for: /features/ai-predictions
    ğŸ“ AI predictions
    ğŸš« Testing without authentication...
    â±ï¸ Testing trial user access...
    â° Testing expired trial user access...
    ğŸ’ Testing premium user access...
    âŒ ISSUES FOUND:
       ğŸ”¸ Endpoint accessible without authentication when it should require auth
       ğŸ”¸ Expired trial user has full access without restrictions
    âœ… Correct behaviors:
       âœ“ Trial user has access
       âœ“ Premium user has full access

ğŸ“‹ [ 7/9] Testing: Market intelligence
============================================================
ğŸ” Testing access control for: /market-intel
    ğŸ“ Market intelligence
    ğŸš« Testing without authentication...
    ğŸ­ Testing demo user access...
    â±ï¸ Testing trial user access...
    â° Testing expired trial user access...
    ğŸ’ Testing premium user access...
    âŒ ISSUES FOUND:
       ğŸ”¸ Expired trial user has full access without restrictions
    âœ… Correct behaviors:
       âœ“ Demo user has appropriate access with demo indicators
       âœ“ Trial user has access
       âœ“ Premium user has full access

ğŸ“‹ [ 8/9] Testing: User profile
============================================================
ğŸ” Testing access control for: /profile
    ğŸ“ User profile
    ğŸš« Testing without authentication...
    ğŸ­ Testing demo user access...
    â±ï¸ Testing trial user access...
    â° Testing expired trial user access...
    ğŸ’ Testing premium user access...
    âœ… PASSED - Access control working correctly
    âœ… Correct behaviors:
       âœ“ Correctly redirects to login when not authenticated
       âœ“ Demo user has appropriate access with demo indicators
       âœ“ Trial user has access
       âœ“ Expired trial correctly shows upgrade prompt or blocks access
       âœ“ Premium user has full access

ğŸ“‹ [ 9/9] Testing: User notifications
============================================================
ğŸ” Testing access control for: /notifications
    ğŸ“ User notifications
    ğŸš« Testing without authentication...
    ğŸ­ Testing demo user access...
    â±ï¸ Testing trial user access...
    â° Testing expired trial user access...
    ğŸ’ Testing premium user access...
    âœ… PASSED - Access control working correctly
    âœ… Correct behaviors:
       âœ“ Demo user has appropriate access with demo indicators
       âœ“ Trial user has access
       âœ“ Expired trial correctly shows upgrade prompt or blocks access
       âœ“ Premium user has full access

============================================================
ğŸ“Š Access Control Test Summary:
    âœ… Passed: 4
    âŒ Failed: 5
    ğŸ“ˆ Success Rate: 44.4%
ğŸ“„ Access control report saved to: access_control_report.json

âš ï¸  5 endpoints have access control issues.
